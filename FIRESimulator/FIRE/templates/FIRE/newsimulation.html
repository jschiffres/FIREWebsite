{% extends 'FIRE/base.html' %}

{% block content %}

    {% if error %}

        <div class="alert alert-danger" role="alert">
            {{ error }}
        </div>

    {% endif %}

<nav id="navbar-example2" class="navbar sticky-top navbar-light bg-light px-3">
  <a class="navbar-brand" href="#">FIRE Questionnaire</a>
  <ul class="nav nav-pills">
    <li class="nav-item">
      <a class="nav-link" href="#personalInfo">Personal Info</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#income">Income</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#expenses">Expenses</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#savings">Savings</a>
    </li>
  </ul>
</nav>
<div data-bs-spy="scroll" data-bs-target="#navbar-example2" data-bs-offset="0" class="scrollspy-example" tabindex="0">    

    <form method="POST"> 
    {% csrf_token %}

    <h3 id="personalInfo" class="text">1. Personal Info</h3> 
    
        <div class="row justify-content-start">

            <div class="col-7">
                <div class="card">
                    <div class="card-body">
                        <h6>Welcome!</h6>
                        <p>
                            The following survey will inquire not only about your current financial sitution but also your anticipated future in areas including income, expenses and savings. <i>At the end you'll be able to see the power of investing long term for your future!</i>
                        </p>
                        <p>
                            If you are currently not budgeting on a monthly or yearly basis, take time to understand where your money is going. <u>A clear grasp of your budget will be critical as a baseline to create an accurate simulation.</u> 
                        </p>
                        <p>
                            Remember that the estimates you provide throughout this survey should be an average over the course of today all the way up until your retirement age. Be consistent throughout the estimates within this survey to compare various scenarios of high or low growth.
                        </p>
                        <p>
                            Start by answering the first section, including this question: <b>What age would you like to retire?</b> 
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-5">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="name" name="name" placeholder="FIRE Simulation" value="My Simulation" required>
                    <label for="name">Simulation Name</label>
                    <div id="nameHelp" class="form-text">Provide a name for this simulation.</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_age" name="current_age" min="1" max="100" value="25" required>
                    <label for="current_age">Current Age</label>
                    <div id="current_ageHelp" class="form-text">How old are you?</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="estimated_retirement_age" name="estimated_retirement_age" min="2" max="101" value="40" required>
                    <label for="estimated_retirement_age">Retirement Age</label>
                    <div id="estimated_retirement_ageHelp" class="form-text">At what age would you like to retire?</div>
                </div>
            </div>

        </div>

    <hr>

    <h3 id="income" class="text">2. Income</h3>

        <div class="row justify-content-start">

            <div class="col-7">
                <div class="card">
                    <div class="card-body">
                        <h6>How much money do you make?</h6>
                        <p>
                            When determining your budget, step 1 is knowing how much money you earn. Pretty simple right...</i>
                        </p>
                        <p>
                            The average person will only have one source of income - their job or potentially mutiple jobs. Presuming you are employed and your income is stable, review compensation statements provided by your employer(s) to derive your current <u>gross salary</u> figure. For those with variable income or working as independent contractors, utilize prior year amounts to inform your current amount.
                        </p>
                        <p>
                            Estimating your future salary might involve many factors some within your control such as frequent job hopping and some out of your control such as tight labor markets and recessions. An <u>annual raise of 3-5% is a safe estimate</u> but depending on your industry it could be higher or lower.
                        </p>
                        <p>
                            Yearly bonuses are not a given and may not happen at all depending on your line of work. Utilize prior year amounts if possible and be conservative as there are many factors out of your control that may reduce this percentage. For those receiving stock as compensation along with their normal salary, include that percentage estimate here. 
                        </p>
                        <p>
                            Other income earned outside of your normal salary(s) should be included if it is relatively consistant and is currently a factor within your monthly/yearly budget. Some examples might be easy to predict annual increases such as rental income while some might be just a fixed amount. 
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-5">
                <h5 class="text">Salary & Bonus</h5>
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_yearly_salary" name="current_yearly_salary" min="1000" max="1000000" value="75000" required>
                    <label for="current_yearly_salary">Current Yearly Gross Salary ($)</label>
                    <div id="current_yearly_salaryHelp" class="form-text">What is your current yearly gross salary prior to any deductions <i>i.e., Taxes, Retirement Contributions, Health Insurance?</i></div>
                </div>
  
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="estimated_salary_raise" name="estimated_salary_raise" min="0" max="99.9" value="3.0" step=".1" required>
                    <label for="estimated_salary_raise">Estimated Yearly Salary Raise (%)</label>
                    <div id="estimated_salary_raiseHelp" class="form-text">On average, how much do you anticipate your salary to increase each year?</div>
                </div>
   
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="estimated_bonus" name="estimated_bonus" min="0" max="99.9" value="3.0" step=".1" required>
                    <label for="estimated_bonus">Estimated Yearly Bonus (%)</label>
                    <div id="estimated_bonusHelp" class="form-text">On average, what percentage of your yearly salary do you anticipate to recieve as a bonus each year?</div>
                </div>

                <h5 class="text">Other Income</h5>   
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_yearly_other_income" name="current_yearly_other_income" min="0" max="1000000" value="0" required>
                    <label for="current_yearly_other_income">Current Other Income ($)</label>
                    <div id="current_yearly_other_incomeHelp" class="form-text">Do you currently receive any addtional income on a yearly basis? <i>i.e., Rental Properties, Trusts, Side Hustles</i></div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="estimated_other_income_increase" name="estimated_other_income_increase" min="0" max="99.9" value="0.0" step=".1" required>
                    <label for="estimated_other_income_increase">Estimated Yearly Other Income Increase (%)</label>
                    <div id="estimated_other_income_increaseHelp" class="form-text">On average, how much do you anticipate your other income to increase each year?</div>
                </div>
            </div>

        </div>

    <hr>

    <div class="row justify-content-start">
        <h3 id="expenses" class="text">3. Expenses</h3>

            <div class="col-7">
                <div class="card">
                    <div class="card-body">
                        <h6>How much money do you spend?</h6>
                        <p>
                            The next step to determining your budget is to understand where your money is being spent. A little bit more complicated...</i>
                        </p>
                        <p>
                            Reviewing your credit and or bank statements will be helpful to gain insight if you are unaware of your reoccuring bills and spending habits. If needed, download those statements and go line-by-line assigning each one a category such as <i>Bill or Food</i> and even a subcategory such as <i>Rent or Groceries.</i>
                        </p>
                        <p>
                            Fixed costs will generally be your monthly bills that reoccur and tend to be very predictable. These expenses usually can not be controlled without making a drastic change such as moving. Think of these costs as your needs that must be paid prior to thinking about any discretionary spending.
                        </p>
                        <p>
                            Total variable costs should be a targeted value within the remainder after subtracting your mandatory bills from your <u>net salary.</u> After paying your bills you are left with, hopefuly, money for shopping, travel, food etc. Food is, of course, a need but as it could vary drastically from month to month and be controlled by things such as reducing how much you eat out - include it in your variable costs.  
                        </p>
                        <p>
                           Of course, there are two scenarios after subtracting your fixed and targeted variable spend amounts from your net salary - one, you have surplus money to save or two, you are in the negative and have gone into debt. The second scenario can certainly be a reality but the hope is that it can be avoided and that developing a budget will highlight the need to spend more cautiously, reduce your bills, find a more high paying job etc.
                        </p>
                        <p>
                            Your recurring bills and variable spend very rarely will decrease over the years and there are two main factors to this, the first being inflation and the second is a change in one's lifestyle. Inflation can not be controlled or really avoided - rent, energy and food cost is going to increase with or without you and should be accounted for at the very least. An average annual inflation rate of 2-4% is a safe estimate but may vary based on a number of factors including where you live. If you anticipate your lifestyle to change as your salary increases it is wise to factor that into this estimate as well.  
                        </p>
                        <p>
                            Health insurance and taxes are the final expenses and are <i>normally</i> taken out of one's paycheck prior to receiving your net salary. Review your paycheck or health insurance marketplace statement, if self employeed, to determine how much you are paying for health insurance. 
                        </p>
                        <p>
                            Your tax rate is quite difficult to estimate but reviewing your prior W2s provided by your employer and your tax returns can give you an idea of how much <b>federal and state/local</b> tax you have paid in past years. As your income is most likely to increase, it is important to factor that into your estimate as this percentage will be utilized in future years when your tax bracket presumably will be higher. Consider learning about how your income is taxed - understanding how deductions from your gross salary can reduce your taxable income and thus your tax rate will be good to understand when considering FIRE.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-5">
                <h5 class="text">Fixed Costs</h5>    
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_yearly_fixed_costs" name="current_yearly_fixed_costs" min="1" max="100000000" value="17500" required>
                        <label for="current_yearly_fixed_costs">Current Yearly Fixed Costs ($)</label>
                        <div id="current_yearly_fixed_costsHelp" class="form-text">What is your current yearly fixed costs expense amount? Review bank/credit statments, total amounts paid for <b>rent, utilities, insurance, subscriptions</b> etc.</div>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_fixed_costs_inflation" name="estimated_fixed_costs_inflation" min="0" max="99.9" value="3.2" step=".1" required>
                        <label for="estimated_fixed_costs_inflation">Estimated Yearly Fixed Costs Increase (%)</label>
                        <div id="estimated_fixed_costs_inflationHelp" class="form-text">On average, how much do you anticipate your fixed costs to increase each year?</div>
                    </div>
            

                <h5 class="text">Variable Costs</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_yearly_cost_of_living" name="current_yearly_cost_of_living" min="1" max="100000000" value="20000" required>
                        <label for="current_yearly_cost_of_living">Current Yearly Variable Costs ($)</label>
                        <div id="current_yearly_cost_of_livingHelp" class="form-text">What is your current yearly variable costs expense amount? Review bank/credit statments, total amounts paid for <b>food, entertainment, travel, shopping</b> etc.</div>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_cost_of_living_inflation" name="estimated_cost_of_living_inflation" min="0" max="99.9" value="3.2" step=".1" required>
                        <label for="estimated_cost_of_living_inflation">Estimated Yearly Variable Costs Increase (%)</label>
                        <div id="estimated_cost_of_living_inflationHelp" class="form-text">On average, how much do you anticipate your variable costs to increase each year?</div>
                    </div>

                <h5 class="text">Health Care</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_yearly_health_insurance_cost" name="current_yearly_health_insurance_cost" min="0" max="100000000" value="2600" required>
                        <label for="current_yearly_health_insurance_cost">Current Yearly Health Insurance Cost ($)</label>
                        <div id="current_yearly_health_insurance_costHelp" class="form-text">What is your current yearly health insurance cost? Review your paycheck if health insurance is taken out of your salary.</div>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_health_insurance_inflation" name="estimated_health_insurance_inflation" min="0" max="99.9" value="5.0" step=".1" required>
                        <label for="estimated_health_insurance_inflation">Estimated Yearly Heath Insurance Cost Increase (%)</label>
                        <div id="estimated_health_insurance_inflationHelp" class="form-text">On average, how much do you anticipate your health insurance cost to increase each year?</div>
                    </div>

                <h5 class="text">Taxes</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_tax_rate" name="estimated_tax_rate" min="0" max="99.9" value="18.0" step=".1" required>
                        <label for="estimated_tax_rate">Estimated Tax Rate (%)</label>
                        <div id="estimated_tax_rateHelp" class="form-text">On average, what do you anticipate your tax rate to be each year? Review prior W2s / Tax Returns.</div>
                    </div>
            </div>
        </div>

    <hr>

    <h3 id="savings" class="text">4. Savings</h3>
        <div class="row justify-content-start">   
            <div class="col-6">
                <div class="card">
                    <div class="card-body">
                        <h6>How much money do you save?</h6>
                        <p>
                            Lets run through a hypothetical before diving into saving your money: 
                            <ul>
                                <li><b>Gross Salary/Bonus:</b> $100,000</li>
                                <li><b>Fixed Costs:</b> ($15,000)</li>
                                <li><b>Variable Costs:</b> ($20,000)</li>
                                <li><b>Health Insurance:</b> ($2,500)</li>
                                <li><b>Taxes:</b> ($12,500)</li>
                                <li><b>Savings:</b> $50,000</li>
                            </ul>
                            What is the most optimal way to put that $50k to work for you when striving for FIRE?
                        </p>
                        <p>
                            <b>Health Savings Accounts:</b> Offers a triple tax advantage by reducing your taxable income, growing tax-free and providing tax-free withdrawals for qualified expenses. <i>Note:</i> To qualify for HSA contributions, you will need to be enrolled in a <u>High Deductible Health Plan (HDHP)</u>. It is important to evaluate which kind of medical insurance is suited for your well-being and fequency of helath-related benefits. 
                        </p>
                        <p>
                            <b>Employer Sponsored Retirement Accounts:</b> Most common types include 401k and 403b plans. Contributions to these accounts can be made such that your taxable income is reduced (Traditional) or such that your money invested grows tax-free (Roth). Understanding the difference and between a Traditional and Roth account will be important for FIRE planning. For those with mutiple employer sponsored retirement accounts from changing jobs, be sure to add up the total of all of those accounts.  
                        </p>
                        <p>
                            For some, their employer may also contribute to these accounts at a certain percentage of one's salary provided they make contributions themselves. As an example an employer might match $0.50 for every $1 up to 6% of your salary. This essentially equates to 3% of one's salary. Employer matches are a risk free way to grow your retirement account and not leave part of your compensation on the table. 
                        </p>
                        <p>
                            <b>Individual Retirement Accounts:</b> Another tax advantaged retirement account, similar to a 401k with various types including Traditional and Roth. Traditional IRAs allow for tax deductible contributions to reduce your taxable income while Roth IRAs provide tax-free distributions aka tax-free growth. It is important to understand that unlike employer sponsored retirement accounts, IRAs have income limitations to be able to contribute. It is best to do your research or consult a tax professional if unsure about contribution implications given your financial situation.
                        </p>
                        <p>
                            <b>Taxable Bokerage Accounts:</b> These account do not offer any tax advantages but do not have any limtations on how much your can contirbute or when you can withdraw your money. There are many different types with varying levels of investment decision making required by you such as Full Service Brokerage Accounts, Robo-Advisor Accounts and Online Accounts. Depending on your choice, your return may be impacted as financial advisors or investment platforms will charge a fee to manage your money. If is best to do your research to determine what might be best for you and your financial situation.
                        </p>
                        <p>
                            <b>Simulation Logic:</b> Congrats! You have provided a lot of details, have hopefully learned a thing or two about your financial situation and are ready to create your simulation. The simulation logic is fairly straight forward - Your income minus your expenses will derive your savings. Your savings will then be allocated in the following order:<br>1. Contribute to your Employer Sponsored Retirement Account to recive the employer match<br>2. Contribute the max amount to your HSA*<br>3. Contribute the max amount to your Employer Sponsored Retirement Plan<br>4. Contribute the max amount to your IRA<br>5. Contribute the remainder to your TBA<br>*If HSA account has not be opted-out
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-6">
            <h5 class="text">Health Savings Account (HSA)</h5> 

                <div class="form-floating mb-3">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="hsa_enrollment" name="hsa_enrollment" value=True>
                        <label class="form-check-label" for="hsa_enrollment">HSA Enrollment Opt-Out</label>
                        <div id="hsa_enrollmentHelp" class="form-text">Do you plan to not contribute to an HSA?</div>
                    </div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_hsa_balance" name="current_hsa_balance" min="0" max="100000000" value="0" required>
                    <label for="current_hsa_balance">Current HSA Balance ($)</label>
                    <div id="current_hsa_balanceHelp" class="form-text">How much money is currently in your HSA(s)?</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="esitmated_hsa_yearly_return" name="esitmated_hsa_yearly_return" min="0" max="99.9" value="5.0" step=".1" required>
                    <label for="esitmated_hsa_yearly_return">Estimated HSA Yearly Return (%)</label>
                    <div id="esitmated_hsa_yearly_returnHelp" class="form-text">On average, how much do you expect your HSA investments to grow annually?</div>
                </div>
            
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_hsa_yearly_contribution_limit" name="current_hsa_yearly_contribution_limit" min="1" max="100000000" value="4300" required>
                    <label for="current_hsa_yearly_contribution_limit">Current HSA Yearly Contribution Limit ($)</label>
                    <div id="current_hsa_yearly_contribution_limitHelp" class="form-text">The current contribution limit for a HSA is $4,300.</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="hsa_yearly_contribution_limit_step" name="estimated_hsa_yearly_contribution_limit_step" min="0" max="10000" value="150" step="1" required>
                    <label for="hsa_yearly_contribution_limit_step">Estimated HSA Yearly Contribution Limit Increase ($)</label>
                    <div id="hsa_yearly_contribution_limit_stepHelp" class="form-text">On average, how much do you expect the HSA contribution limit to increase each year?</div>
                </div>
    

            <h5 class="text">Employer Sponsored Retirement Plan (401k, 403b, TSP)</h5>
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_401k_balance" name="current_401k_balance" min="0" max="100000000" value="25000" required>
                    <label for="current_401k_balance">Current Retirement Plan Balance ($)</label>
                    <div id="current_401k_balanceHelp" class="form-text">How much money is currently in your employer sponsored retirement plan(s)?</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="esitmated_401k_yearly_return" name="esitmated_401k_yearly_return" min="0" max="99.9" value="5.0" step=".1" required>
                    <label for="esitmated_401k_yearly_return">Estimated Retirement Plan Yearly Return (%)</label>
                    <div id="esitmated_401k_yearly_returnHelp" class="form-text">On average, how much do you expect your retirement plan investments to grow annually?</div>
                </div>
   
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_401k_employer_contribution" name="current_401k_employer_contribution" min="0" max="99.9" value="3.0" step=".1" required>
                    <label for="current_401k_employer_contribution">Current Retirement Plan Employer Contribution (%)</label>
                    <div id="current_401k_employer_contributionHelp" class="form-text">On average, what percentage of your yearly salary do you anticipate your employer to contribute to your retirement plan each year?</div>
                </div>
         
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_401k_yearly_contribution_limit" name="current_401k_yearly_contribution_limit" min="1" max="100000000" value="23500" required>
                    <label for="current_401k_yearly_contribution_limit">Current Retirement Plan Yearly Contribution Limit ($)</label>
                    <div id="current_401k_yearly_contribution_limitHelp" class="form-text">The current contribution limit for a 401k/403b is $23,500.</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="401k_yearly_contribution_limit_step" name="estimated_401k_yearly_contribution_limit_step" min="0" max="10000" value="500" step="1" required>
                    <label for="401k_yearly_contribution_limit_step">Estimated Retirement Plan Yearly Contribution Limit Increase ($)</label>
                    <div id="401k_yearly_contribution_limit_stepHelp" class="form-text">On average, how much do you expect the 401k/403b contribution limit to increase each year?</div>
                </div>

            <h5 class="text">Individual Retirement Account (Traditional, Roth etc.)</h5>    
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_ira_balance" name="current_ira_balance" min="0" max="100000000" value="5000" required>
                    <label for="current_ira_balance">Current IRA Balance ($)</label>
                    <div id="current_ira_balanceHelp" class="form-text">How much money is currently in your IRA(s)?</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="esitmated_ira_yearly_return" name="esitmated_ira_yearly_return" min="0" max="99.9" value="5.0" step=".1" required>
                    <label for="esitmated_ira_yearly_return">Estimated IRA Yearly Return (%)</label>
                    <div id="esitmated_ira_yearly_returnHelp" class="form-text">On average, how much do you expect your IRA investments to grow annually?</div>
                </div>
          
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_ira_yearly_contribution_limit" name="current_ira_yearly_contribution_limit" min="1" max="100000000" value="7000" required>
                    <label for="current_ira_yearly_contribution_limit">Current IRA Yearly Contribution Limit ($)</label>
                    <div id="current_ira_yearly_contribution_limitHelp" class="form-text">The current contribution limit for an IRA is $7,000.</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="ira_yearly_contribution_limit_step" name="estimated_ira_yearly_contribution_limit_step" min="0" max="10000" value="300" step="1" required>
                    <label for="ira_yearly_contribution_limit_step">Estimated IRA Yearly Contribution Limit Increase ($)</label>
                    <div id="ira_yearly_contribution_limit_stepHelp" class="form-text">On average, how much do you expect the IRA contribution limit to increase each year?</div>
                </div>

            <h5 class="text">Taxable Brokerage Account (TBA)</h5> 
                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="current_iba_balance" name="current_iba_balance" min="0" max="100000000" value="15000" required>
                    <label for="current_iba_balance">Current TBA Balance ($)</label>
                    <div id="current_iba_balanceHelp" class="form-text">How much money is currently in your TBA(s)?</div>
                </div>

                <div class="form-floating mb-3">
                    <input type="number" class="form-control" id="esitmated_iba_yearly_return" name="esitmated_iba_yearly_return" min="0" max="99.9" value="5.0" step=".1" required>
                    <label for="esitmated_iba_yearly_return">Estimated TBA Yearly Return (%)</label>
                    <div id="esitmated_iba_yearly_returnHelp" class="form-text">On average, how much do you expect your TBA investments to grow annually?</div>
                </div>
            </div>
            
        </div>

        <div class="d-flex justify-content-center">
            <button type="submit" class="btn btn-primary">Create Simulation</button>
        </div>
    
    </form>

</div>
    
{% endblock %}