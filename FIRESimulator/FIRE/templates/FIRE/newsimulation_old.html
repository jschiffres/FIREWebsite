{% extends 'FIRE/base.html' %}
{% block content %}

<style>
  :root {
    --accent-green: #2ecc71;
    --accent-blue: #2b3e50;
    --accent-gold: #f9f5d7;
  }
  .navbar { background-color: #fff; border-bottom: 2px solid var(--accent-green); }
  .nav-link.active { background-color: var(--accent-green) !important; color: #fff !important; }
  .section-title { color: var(--accent-green); font-weight: bold; display: flex; align-items: center; gap: .5rem; }
  .tip-card { background-color: var(--accent-gold); border-left: 5px solid var(--accent-green); padding: 1rem; border-radius: .25rem; font-size: .9rem; }
  .btn-success { background-color: var(--accent-green); border: none; }
  .btn-success:hover { background-color: #27ae60; }
</style>

{% if error %}
    <div class="alert alert-danger" role="alert">{{ error }}</div>
{% endif %}

<!-- QUESTIONNAIRE NAVBAR -->
<nav id="navbar" class="navbar sticky-top shadow-sm">
    <div class="container-fluid">
        <h1 class="navbar-brand mb-0 fs-3 fw-bold text-success"><i class="bi bi-cash-coin"></i> FIRE Questionnaire</h1>
        <ul class="nav nav-pills">
        <li class="nav-item"><a class="nav-link" href="#personalInfo">Personal Info</a></li>
        <li class="nav-item"><a class="nav-link" href="#income">Income</a></li>
        <li class="nav-item"><a class="nav-link" href="#expenses">Expenses</a></li>
        <li class="nav-item"><a class="nav-link" href="#savings">Savings</a></li>
        </ul>
    </div>
</nav>

<!-- NAVBAR SCOLL CONTAINER -->
<div class="container py-4" data-bs-spy="scroll" data-bs-target="#navbar" tabindex="0">
    <form method="POST">{% csrf_token %}

        <!-- PERSONAL INFO -->
        <section id="personalInfo" class="mb-5">
            <h3 class="section-title"><i class="bi bi-person-circle"></i> Personal Info</h3>
            <div class="row g-4">
                <!-- PERSONAL INSTRUCTIONS -->
                <div class="col-lg-7">
                    <div class="tip-card shadow-sm rounded">
                        <h5>Welcome!</h5>
                        <p><i>The following survey will inquire not only about your current financial sitution but also your anticipated future in areas including income, expenses and savings. At the end you'll be able to see the power of investing long term for your future!</i></p>
                        <p>Start by answering the first section, including this question: <b>What age would you like to retire?</b> </p>
                        <hr>
                        <p><small><i>Note: If you are currently not budgeting on a monthly or yearly basis, take some time to understand how you are earning and spending your money as a clear grasp of your budget will be a critical baseline to create an accurate simulation.</i></small> </p>
                        <p><small><i>Note: The estimates you provide throughout this survey should be an average over the course of today all the way up until your retirement age. Being consistent throughout with your estimates within this survey will allow you to compare various scenarios of high or low growth.</i></small> </p>
                    </div>
                </div>
                <!-- PERSONAL FIELDS -->
                <div class="col-lg-5">
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="name" name="name" value="My Simulation" required>
                        <label for="name">Simulation Name</label>
                        <div id="nameHelp" class="form-text"><small>Provide a name for this simulation.</small></div>
                    </div>                
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_age" name="current_age" min="1" max="100" value="25" required>
                        <label for="current_age">Current Age</label>
                        <div id="current_ageHelp" class="form-text"><small>How old are you?</small></div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_retirement_age" name="estimated_retirement_age" min="2" max="101" value="40" required>
                        <label for="estimated_retirement_age">Retirement Age</label>
                        <div id="estimated_retirement_ageHelp" class="form-text"><small>What age would you like to retire?</small></div>
                    </div>
                    <div class="form-floating mb-3">  
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="coast_fire_opt_out" id="coast_fire_opt_out" value="False" checked hx-delete hx-target="#coast-fire-age" hx-swap="delete">
                            <label class="form-check-label" for="coast_fire_opt_out">No</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="coast_fire_opt_out" id="coast_fire_opt_int" value="True" hx-get="{% url 'coastfire-opt-in' %}" hx-target="#coast-fire" hx-swap="innerHTML">
                            <label class="form-check-label" for="coast_fire_opt_int">Yes</label>
                        </div>
                        <div id="coast_fire_opt_outHelp" class="form-text">
                            <small>Would you like to coast FIRE at a certain age?</small>
                        </div>
                    </div>
                    <div id="coast-fire">
                    </div>
                </div>
            </div>
        </section>
        <hr>
        <!-- INCOME -->
        <section id="income" class="mb-5">
            <h3 class="section-title"><i class="bi bi-cash-stack"></i> 2. Income</h3>
            <div class="row g-4">
                <!-- INCOME INSTRUCTIONS -->
                <div class="col-lg-7">
                    <div class="tip-card shadow-sm rounded">
                        <h5>How much money do you make?</h5>
                        <p><i>When determining your budget, step 1 is knowing how much money you earn. Pretty simple right...</i></p>
                        <hr>
                        <p><b>Salary: </b>Presuming you are employed and your income is stable, review compensation statements provided by your employer(s) to derive your current <u>gross salary</u> amount. For those with variable income or working as independent contractors, utilize prior year amounts to inform your current amount.</p>
                        <p><b>Raises: </b>Estimating your future salary might involve many factors some within your control such as frequent job hopping and some out of your control such as tight labor markets and recessions. An <u>annual raise of 3-5% is a safe estimate</u> but depending on your industry it could be higher or lower.</p>
                        <p><b>Bonuses: </b>Yearly bonuses are not a given and may not happen at all depending on your line of work. Utilize prior year amounts or employment offer letters if possible and be conservative as there are many factors out of your control that may reduce this percentage.</p>
                        <hr>
                        <p><b>Other Income: </b>Income earned outside of your normal salary(s) should be included if it is relatively <u>consistent and is currently a factor</u> within your monthly/yearly budget. Some examples might be easy to predict annual increases such as rental income while some might be just a fixed amount.</p>
                        <p><small><i>Note: For those receiving stock as compensation along with their normal salary, include that within the this section as a dollar amount or within the Bonus section as a percentage of your gross salary.</i></small></p>
                        <hr>
                        <p><b>Lump Sum Payments:</b>If you have any anticipated large inheritances of money in the future (prior to your retirement age) that you believe will factor into your retirement savings, detail their amounts and anticipated age upon receival.</p>
                    </div>
                </div>
                <!-- INCOME FIELDS -->
                <div class="col-lg-5">
                    <h5 class="fw-bold">Salary & Bonus</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_yearly_salary" name="current_yearly_salary" min="1000" max="1000000" value="75000" required>
                        <label for="current_yearly_salary">Current Yearly Gross Salary ($)</label>
                        <div id="current_yearly_salaryHelp" class="form-text"><small>What is your current yearly gross salary prior to any deductions <i>i.e., Taxes, Retirement Contributions, Health Insurance?</i></small></div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_salary_raise" name="estimated_salary_raise" min="0" max="99.9" value="3.0" step=".1" required>
                        <label for="estimated_salary_raise">Estimated Yearly Salary Raise (%)</label>
                        <div id="estimated_salary_raiseHelp" class="form-text"><small>On average, how much do you anticipate your salary to increase each year?</small></div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_bonus" name="estimated_bonus" min="0" max="99.9" value="3.0" step=".1" required>
                        <label for="estimated_bonus">Estimated Yearly Bonus (%)</label>
                        <div id="estimated_bonusHelp" class="form-text"><small>On average, what percentage of your yearly salary do you anticipate to recieve as a bonus each year?</small></div>
                    </div>
                    <h5 class="fw-bold">Other Income</h5>   
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_yearly_other_income" name="current_yearly_other_income" min="0" max="1000000" value="0" required>
                        <label for="current_yearly_other_income">Current Other Income ($)</label>
                        <div id="current_yearly_other_incomeHelp" class="form-text"><small>Do you currently receive any addtional income on a yearly basis? <i>i.e., Rental Properties, Trusts, Side Hustles</i></small></div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_other_income_increase" name="estimated_other_income_increase" min="0" max="99.9" value="0.0" step=".1" required>
                        <label for="estimated_other_income_increase">Estimated Yearly Other Income Increase (%)</label>
                        <div id="estimated_other_income_increaseHelp" class="form-text"><small>On average, how much do you anticipate your other income to increase each year?</small></div>
                    </div>
                    <h5 class="fw-bold">One-Time Lump Sum Payments</h5>
                    <div id="lumpsum-div">
                        <p><small><i>*One payment per year before retirement age</i></small></p>
                    </div>
                    <div>
                        <button type="button" class="btn btn-success" hx-get="{% url 'create-lumpsum' %}" hx-target="#lumpsum-div" hx-swap="beforeend">+ Add Lump Sum</button>
                    </div>
                </div>
            </div>
        </section>
        <hr>
        <!-- EXPENSES -->
        <section id="expenses" class="mb-5">
            <h3 class="section-title"><i class="bi bi-receipt"></i> 3. Expenses</h3>
            <div class="row g-4">
                <!-- EXPENSES INSTRUCTIONS -->
                <div class="col-lg-7">
                    <div class="tip-card shadow-sm rounded">
                        <h5>How much money do you spend?</h5>
                        <p><i>The next step to determining your budget is to understand where your money is being spent. A little bit more complicated...</i></p>
                        <hr>
                        <p><b>Fixed Costs: </b> Generally are your monthly bills that reoccur and tend to be <u>very predictable.</u> These expenses usually can not be controlled or altered without making a drastic change such as moving. Think of these costs as your needs that must be paid prior to thinking about any discretionary spending. Include any debt payments within this category as well.</p>
                        <p><b>Variable Costs: </b> Should be a targeted value within the remainder after subtracting your mandatory bills from your <u>net salary.</u> As an example, someone earning a net salary of $50k a year with $20k in Fixed Costs should target their Variable Costs to be less than or equal to $30k. After paying your bills you are left with, hopefuly, money for shopping, travel, food etc. Food is, of course, a need but as it could vary drastically from month to month and be controlled by things such as reducing how much you eat out/lifestyle.</p>
                        <p><small><i>Note: Reviewing your credit card and or bank statements will be helpful to gain insight if you are unaware of your reoccuring bills and spending habits. If needed, download those statements and go line-by-line assigning each one a category such as Bill or Food and even a subcategory such as Rent or Groceries.</i></small></p>
                        <p><small><i>Note: There are two scenarios after subtracting your fixed and targeted variable spend amounts from your net salary - one, you have surplus money to save or two, you are in the negative and have gone into debt. The second scenario can certainly be a reality but the hope is that it can be avoided and that developing a budget will highlight the need to spend more cautiously, reduce your bills, find a more high paying job etc.</i></small></p>
                        <hr>
                        <p><b>Inflation: </b> Your recurring bills and variable spend very rarely will decrease over the years and there are two main factors to this, the first being inflation and the second is a change in one's lifestyle. Inflation can not be controlled or really avoided - rent, energy and food cost is going to increase with or without you and should be accounted for at the very least. <u>An average annual inflation rate of 2-4% is a safe estimate</u> but may vary based on a number of factors including where you live. If you anticipate your lifestyle to change as your salary increases it is wise to factor that into this estimate as well.  </p>
                        <hr>
                        <p><b>Health Insurance: </b> Usually taken out of one's paycheck prior to receiving your net salary. Review your paycheck or health insurance marketplace statement, if self employeed, to determine how much you are paying for health insurance. Your health insurance cost may vary drastically throughout your career as you change jobs and have different coverage options and as your heath needs potentially start to increase as you get older.</p>
                        <hr>
                        <p><b>Taxes: </b> Usually taken out of one's paycheck prior to receiving your net salary as well. Your tax rate is quite difficult to estimate as there are many factors out of your control but reviewing your prior W2s provided by your employer and your tax returns can give you an idea of how much <u>federal and state/local</u> tax you have paid in past years. As your income is most likely to increase, it is important to factor that into your estimate as this percentage will be utilized in future years when your tax bracket presumably will be higher.</p>
                        <p> <small><i>Note: Consider learning about how your income is taxed - understanding the current tax brackets, your state tax rate(s) or lack of and how deductions from your gross salary can reduce your taxable income and thus your tax rate will be good to understand when considering FIRE.</i></small></p>
                    </div>
                </div>
                <!-- EXPENSES FIELDS -->
                <div class="col-lg-5">
                    <h5 class="fw-bold">Fixed Costs</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_yearly_fixed_costs" name="current_yearly_fixed_costs" min="1" max="100000000" value="17500" required>
                        <label for="current_yearly_fixed_costs">Current Yearly Fixed Costs ($)</label>
                        <div id="current_yearly_fixed_costsHelp" class="form-text">What is your current yearly fixed costs expense amount? Review bank/credit statments, total amounts paid for <b>rent, utilities, insurance</b> etc.</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_fixed_costs_inflation" name="estimated_fixed_costs_inflation" min="0" max="99.9" value="3.2" step=".1" required>
                        <label for="estimated_fixed_costs_inflation">Estimated Yearly Fixed Costs Increase (%)</label>
                        <div id="estimated_fixed_costs_inflationHelp" class="form-text">On average, how much do you anticipate your fixed costs to increase each year?</div>
                    </div>
                    <div id="fixedcost-adjustments-div">
                    </div>
                    <div style="padding-bottom: 20px;">
                        <button type="button" class="btn btn-success" hx-get="{% url 'create-fixedcost-adjustment' %}" hx-target="#fixedcost-adjustments-div" hx-swap="beforeend">+ Fixed Cost Adjustment</button>
                    </div>
                    <h5 class="fw-bold">Variable Costs</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_yearly_cost_of_living" name="current_yearly_cost_of_living" min="1" max="100000000" value="20000" required>
                        <label for="current_yearly_cost_of_living">Current Yearly Variable Costs ($)</label>
                        <div id="current_yearly_cost_of_livingHelp" class="form-text">What is your current yearly variable costs expense amount? Review bank/credit statments, total amounts paid for <b>food, entertainment, travel, shopping</b> etc.</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_cost_of_living_inflation" name="estimated_cost_of_living_inflation" min="0" max="99.9" value="3.2" step=".1" required>
                        <label for="estimated_cost_of_living_inflation">Estimated Yearly Variable Costs Increase (%)</label>
                        <div id="estimated_cost_of_living_inflationHelp" class="form-text">On average, how much do you anticipate your variable costs to increase each year?</div>
                    </div>
                    <h5 class="fw-bold">Health Care</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_yearly_health_insurance_cost" name="current_yearly_health_insurance_cost" min="0" max="100000000" value="2600" required>
                        <label for="current_yearly_health_insurance_cost">Current Yearly Health Insurance Cost ($)</label>
                        <div id="current_yearly_health_insurance_costHelp" class="form-text">What is your current yearly health insurance cost? Review your paycheck if health insurance is taken out of your salary.</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_health_insurance_inflation" name="estimated_health_insurance_inflation" min="0" max="99.9" value="5.0" step=".1" required>
                        <label for="estimated_health_insurance_inflation">Estimated Yearly Heath Insurance Cost Increase (%)</label>
                        <div id="estimated_health_insurance_inflationHelp" class="form-text">On average, how much do you anticipate your health insurance cost to increase each year?</div>
                    </div>
                    <h5 class="fw-bold">Taxes</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="estimated_tax_rate" name="estimated_tax_rate" min="0" max="99.9" value="18.0" step=".1" required>
                        <label for="estimated_tax_rate">Estimated Tax Rate (%)</label>
                        <div id="estimated_tax_rateHelp" class="form-text">On average, what do you anticipate your tax rate to be each year? Review prior W2s / Tax Returns.</div>
                    </div>
                </div>
            </div>
        </section>
        <hr>
        <!-- SAVINGS -->
        <section id="savings" class="mb-5">
            <h3 class="section-title"><i class="bi bi-piggy-bank"></i> 4. Savings</h3>
            <div class="row g-4">
                <!-- SAVINGS INSTRUCTIONS -->
                <div class="col-lg-7">
                    <div class="tip-card">
                        <h5>How much money do you save?</h5>
                        <p>
                            <i>Lets run through a hypothetical before diving into saving your money:</i> 
                            <ul>
                                <li><u>Gross Salary/Bonus:</u> $100,000</li>
                                <li><u>Fixed Costs:</u> ($15,000)</li>
                                <li><u>Variable Costs:</u> ($20,000)</li>
                                <li><u>Health Insurance:</u> ($2,500)</li>
                                <li><u>Taxes:</u> ($12,500)</li>
                                <li><b>Savings:</b> $50,000</li>
                            </ul>
                            <i>What is the most optimal way to put that $50k to work for your retirement when striving for FIRE?</i>
                        </p>
                        <hr>
                        <p><b>Health Savings Accounts:</b> Offers a triple tax advantage by reducing your taxable income, growing tax-free and providing tax-free withdrawals for qualified expenses. </p>
                        <p><small><i>Note: To qualify for HSA contributions, you will need to be enrolled in a High Deductible Health Plan (HDHP). It is important to evaluate which kind of medical insurance is suited for your well-being and fequency of helath-related benefits.</i></small></p>
                        <hr>
                        <p><b>Employer Sponsored Retirement Accounts:</b> Most common types include 401k and 403b plans. Contributions to these accounts can be made such that your taxable income is reduced (Traditional) or such that your money invested grows tax-free (Roth).</p>
                        <p><small><i>Note: Understanding the difference and between a <u>Traditional (Tax-Deferred) and Roth (Tax-Exempt)</u> accounts will be important for FIRE planning.</i></small></p>
                        <p><small><i>Note: For those with mutiple employer sponsored retirement accounts from changing jobs, be sure to add up the total of all of those accounts.</i></small></p>
                        <p><b>Employer Contributions: </b>For some, their employer may also contribute to these accounts at a certain percentage of one's salary provided they make contributions themselves. As an example an employer might match $0.50 for every $1 up to 6% of your salary. This essentially equates to 3% of one's salary. Employer matches are a risk free way to grow your retirement account and not leave part of your compensation on the table. </p>
                        <hr>
                        <p><b>Individual Retirement Accounts:</b> Another tax advantaged retirement account, similar to a 401k with various types including Traditional and Roth. Traditional IRAs allow for tax deductible contributions to reduce your taxable income while Roth IRAs provide tax-free distributions aka tax-free growth. It is important to understand that unlike employer sponsored retirement accounts, IRAs have income limitations to be able to contribute. It is best to do your research or consult a tax professional if unsure about contribution implications given your financial situation.</p>
                        <hr>
                        <p><b>Taxable Bokerage Accounts:</b> These accounts do not offer any tax advantages but do not have any limtations on how much your can contribute or when you can withdraw your money. There are many different types with varying levels of investment decision making required by you such as Full Service Brokerage Accounts, Robo-Advisor Accounts and Online Accounts. Depending on your choice, your return may be impacted as financial advisors or investment platforms will charge a fee to manage your money. If is best to do your research to determine what might be best for you and your financial situation.</p>
                        <hr>
                        <p><b>Annual Returns and Investment Options:</b> There are many factors to consider when estimating the average return of each of your accounts including historical market returns and your investment strategy. It is important to remember this is just an estimate, actual returns can vary drastically from year to year and are never guaranteed. How should you invest your savings? Start by asking yourself a few basic questions such as how many years do I have to invest? what is my risk tolerance? how diversified do I want my portfolio to be? When planning for FIRE, it is best to plan for long-term growth with moderate risk. Investing in broad market index funds related to US Stocks, International Stocks and Bonds is usually recommended to diversify your portfolio. Lastly, it is reccomended to invest reguraly, avoid trying to time the market and to rebalance your portfolio peridoically.</p>
                        <hr>
                        <p><b>Appreciating Assets: </b> Owning ...</p>
                        <hr>
                        <p><small><i>Note: This is general education and not financial advice. Everyone's sitution is different - consider speaking with a financial professional to learn more.</i></small></p>
                    </div>
                </div>
                <div class="col-lg-5">
                    <h5 class="fw-bold">Health Savings Account (HSA)</h5
                    <div class="form-floating mb-3">  
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="hsa_enrollment_opt_out" id="hsa_enrollment_opt_out" value="False" checked hx-get="{% url 'hsa-opt-in' %}" hx-target="#hsa-fields" hx-swap="innerHTML">
                            <label class="form-check-label" for="hsa_enrollment_opt_out">Yes</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="hsa_enrollment_opt_out" id="hsa_enrollment_opt_in" value="True" hx-delete hx-target="#hsa-inputs" hx-swap="delete">
                            <label class="form-check-label" for="hsa_enrollment_opt_in">No</label>
                        </div>
                        <div id="hsa_enrollment_opt_outHelp" class="form-text">
                            Do you plan to contribute to an HSA?
                        </div>
                    </div>
                    <div id="hsa-fields">
                        {% include 'FIRE/partials/hsa.html' %}
                    </div>
                    <h5 class="text">Employer Sponsored Retirement Plan (401k, 403b, TSP)</h5>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_401k_balance" name="current_401k_balance" min="0" max="100000000" value="25000" required>
                        <label for="current_401k_balance">Current Retirement Plan Balance ($)</label>
                        <div id="current_401k_balanceHelp" class="form-text">How much money is currently in your employer sponsored retirement plan(s)?</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="esitmated_401k_yearly_return" name="esitmated_401k_yearly_return" min="0" max="99.9" value="5.0" step=".1" required>
                        <label for="esitmated_401k_yearly_return">Estimated Retirement Plan Yearly Return (%)</label>
                        <div id="esitmated_401k_yearly_returnHelp" class="form-text">On average, how much do you expect your retirement plan investments to grow annually?</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_401k_employer_contribution" name="current_401k_employer_contribution" min="0" max="99.9" value="3.0" step=".1" required>
                        <label for="current_401k_employer_contribution">Current Retirement Plan Employer Contribution (%)</label>
                        <div id="current_401k_employer_contributionHelp" class="form-text">On average, what percentage of your yearly salary do you anticipate your employer to contribute to your retirement plan each year?</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_401k_yearly_contribution_limit" name="current_401k_yearly_contribution_limit" min="1" max="100000000" value="23500" required>
                        <label for="current_401k_yearly_contribution_limit">Current Retirement Plan Yearly Contribution Limit ($)</label>
                        <div id="current_401k_yearly_contribution_limitHelp" class="form-text">The current contribution limit for a 401k/403b is $23,500.</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="401k_yearly_contribution_limit_step" name="estimated_401k_yearly_contribution_limit_step" min="0" max="10000" value="500" step="1" required>
                        <label for="401k_yearly_contribution_limit_step">Estimated Retirement Plan Yearly Contribution Limit Increase ($)</label>
                        <div id="401k_yearly_contribution_limit_stepHelp" class="form-text">On average, how much do you expect the 401k/403b contribution limit to increase each year?</div>
                    </div>
                    <h5 class="text">Individual Retirement Account (Traditional, Roth etc.)</h5>    
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_ira_balance" name="current_ira_balance" min="0" max="100000000" value="5000" required>
                        <label for="current_ira_balance">Current IRA Balance ($)</label>
                        <div id="current_ira_balanceHelp" class="form-text">How much money is currently in your IRA(s)?</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="esitmated_ira_yearly_return" name="esitmated_ira_yearly_return" min="0" max="99.9" value="5.0" step=".1" required>
                        <label for="esitmated_ira_yearly_return">Estimated IRA Yearly Return (%)</label>
                        <div id="esitmated_ira_yearly_returnHelp" class="form-text">On average, how much do you expect your IRA investments to grow annually?</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_ira_yearly_contribution_limit" name="current_ira_yearly_contribution_limit" min="1" max="100000000" value="7000" required>
                        <label for="current_ira_yearly_contribution_limit">Current IRA Yearly Contribution Limit ($)</label>
                        <div id="current_ira_yearly_contribution_limitHelp" class="form-text">The current contribution limit for an IRA is $7,000.</div>
                    </div>

                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="ira_yearly_contribution_limit_step" name="estimated_ira_yearly_contribution_limit_step" min="0" max="10000" value="300" step="1" required>
                        <label for="ira_yearly_contribution_limit_step">Estimated IRA Yearly Contribution Limit Increase ($)</label>
                        <div id="ira_yearly_contribution_limit_stepHelp" class="form-text">On average, how much do you expect the IRA contribution limit to increase each year?</div>
                    </div>
                    <h5 class="text">Taxable Brokerage Account (TBA)</h5> 
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="current_iba_balance" name="current_iba_balance" min="0" max="100000000" value="15000" required>
                        <label for="current_iba_balance">Current TBA Balance ($)</label>
                        <div id="current_iba_balanceHelp" class="form-text">How much money is currently in your TBA(s)?</div>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="esitmated_iba_yearly_return" name="esitmated_iba_yearly_return" min="0" max="99.9" value="5.0" step=".1" required>
                        <label for="esitmated_iba_yearly_return">Estimated TBA Yearly Return (%)</label>
                        <div id="esitmated_iba_yearly_returnHelp" class="form-text">On average, how much do you expect your TBA investments to grow annually?</div>
                    </div>
                    <h5 class="text">Appreciating Assets</h5>
                    <div id="assets-div">
                    </div>
                    <div>
                        <button type="button" class="btn btn-success" hx-get="{% url 'create-asset' %}" hx-target="#assets-div" hx-swap="beforeend">+ Add Asset</button>
                    </div>
                </div>
            </div>
        </section>
        <hr>
        <!-- SIMULATION LOGIC -->
        <section class="mb-5">
            <h3 class="section-title"><i class="bi bi-gear"></i> Simulation Logic</h3>
            <div class="tip-card">
                <ul class="mb-0">
                <p><b>Simulation Logic:</b> Congrats! You have provided a lot of details, have hopefully learned a thing or two about your financial situation and are ready to create your simulation. The simulation logic is fairly straight forward - Your total income minus your total expenses will derive your savings. From there, your savings will then be allocated in the following order:<br>1. Contribute to your Employer Sponsored Retirement Account to recive the employer match<br>2. Contribute the max amount to your HSA*<br>3. Contribute the max amount to your Employer Sponsored Retirement Plan<br>4. Contribute the max amount to your IRA<br>5. Contribute the remainder to your TBA<br><small><i>*If HSA account has not be opted-out</i></small></p>
                    <p>Facotring in 1. your yearly income growth, 2. yearly inflation of expenses and 3. yearly growth of your savings accounts/assets - amounts will be calculated for the years until your desired retirement age allowing you to project your future net worth and determine if you are on the right path to FIRE!</p>
            </div>
        </section>
        <!-- SUBMIT BUTTON -->
        <div class="text-center mt-5">
            <button type="submit" class="btn btn-success btn-lg"><i class="bi bi-graph-up"></i> Create Simulation</button>
        </div>
    </form>
</div>

{% endblock %}